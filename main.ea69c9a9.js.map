{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","form","createElement","massageHTML","massageAbout","classMassage","massage","className","innerHTML","after","setTimeout","remove","formCl","addEventListener","e","target","tagName","preventDefault","massageSuccess","tr","namePerson","elements","name","value","agePerson","age","length","Number","salary","salaryPerson","Intl","NumberFormat","format","position","office","getElementsByTagName","append","sortName","sortTab","td","textarea","thead","formatNumberFromCurrency","number","textContent","replace","sort","nameSort","tbodyN","people","a","b","aTd","bTd","querySelectorAll","localeCompare","tbodyNew","map","person","personTd","innerText","join","replaceWith","Activ","textareaN","focus","closest","classList","add","style","display","activ","key"],"mappings":"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","file":"main.ea69c9a9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst table = document.querySelector('table');\r\nconst form = document.createElement('form');\r\n\r\nform.className = 'new-employee-form';\r\n\r\nform.innerHTML = `\r\n    <label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\" ></label>\r\n    <label>Position: \r\n    <input name=\"position\" type=\"text\" data-qa=\"position\" ></label>\r\n    <label>Office: <select name=\"office\" data-qa=\"office> \r\n    <option value=\"value0\"></option>\r\n    <option value=\"Tokio\" selected>Tokio</option>\r\n    <option value=\"Singapore\">Singapore</option>\r\n    <option value=\"London\">London</option>\r\n    <option value=\"New York\">New York</option>\r\n    <option value=\"Edinburgh\">Edinburgh</option>\r\n    <option value=\"San Francisco\">San Francisco</option>\r\n  </select></label>\r\n   <label>Age: <input name=\"age\" type=\"text\"  data-qa=\"age\"></label>\r\n   <label>Salary: <input name=\"salary\" type=\"text\"  data-qa=\"salary\" ></label>\r\n   <button>Save to table</button>\r\n   `;\r\n\r\ntable.after(form);\r\n\r\nfunction massageHTML(massageAbout, classMassage) {\r\n  const massage = document.createElement('div');\r\n\r\n  massage.className = 'notification' + ' ' + classMassage;\r\n\r\n  massage.innerHTML = `<p class=title> ${massageAbout}</p>`;\r\n\r\n  table.after(massage);\r\n\r\n  setTimeout(() => {\r\n    massage.remove();\r\n  }, 3000);\r\n}\r\n\r\nconst formCl = document.querySelector('.new-employee-form');\r\n\r\nformCl.addEventListener('click', (e) => {\r\n  if (e.target.tagName !== 'BUTTON') {\r\n    return;\r\n  }\r\n  e.preventDefault();\r\n\r\n  const massageSuccess = 'Пользователь добавлен';\r\n  const massageErrorName = 'Имя пользователя должно иметь не менее 4 букв';\r\n  const massageErrorAgeMin = 'Возраст не должен быть меньше 18 лет';\r\n  const massageErrorAgeMax = 'Возраст не должен быть больше 90 лет';\r\n  const massageErrorNumber = 'Значение возраста должно быть числом';\r\n  const massageErrorSalary = 'Значение зарплата должно быть числом';\r\n\r\n  const tr = document.createElement('tr');\r\n\r\n  const namePerson = formCl.elements.name.value;\r\n  const agePerson = formCl.elements.age.value;\r\n\r\n  if (namePerson.length < 4) {\r\n    massageHTML(massageErrorName, 'error');\r\n\r\n    return;\r\n  }\r\n\r\n  if (agePerson < 18) {\r\n    massageHTML(massageErrorAgeMin, 'error');\r\n\r\n    return;\r\n  }\r\n\r\n  if (agePerson > 90) {\r\n    massageHTML(massageErrorAgeMax, 'error');\r\n\r\n    return;\r\n  }\r\n\r\n  if (!Number(agePerson)) {\r\n    massageHTML(massageErrorNumber, 'error');\r\n\r\n    return;\r\n  }\r\n\r\n  if (!Number(formCl.elements.salary.value)) {\r\n    massageHTML(massageErrorSalary, 'error');\r\n\r\n    return;\r\n  }\r\n\r\n  const salaryPerson = '$'\r\n  + new Intl.NumberFormat('en-us').format(formCl.elements.salary.value);\r\n\r\n  tr.innerHTML = `\r\n    <td>${namePerson}</td>\r\n    <td>${formCl.elements.position.value}</td>\r\n    <td>${formCl.elements.office.value}</td>\r\n    <td>${agePerson}</td>\r\n    <td>${salaryPerson}</td>\r\n `;\r\n\r\n  const tbodyAdd = document.getElementsByTagName('tbody')[0];\r\n\r\n  tbodyAdd.append(tr);\r\n\r\n  formCl.elements.name.value = '';\r\n  formCl.elements.age.value = '';\r\n  formCl.elements.salary.value = '';\r\n  formCl.elements.position.value = '';\r\n\r\n  massageHTML(massageSuccess, 'success');\r\n});\r\n\r\nconst thead = document.querySelector('thead');\r\n\r\nfunction formatNumberFromCurrency(number) {\r\n  return number.textContent.replace('$', '').replace(',', '');\r\n}\r\n\r\nlet sortName;\r\nlet sortTab;\r\n\r\nfunction sort(nameSort) {\r\n  if (sortName === nameSort) {\r\n    sortTab = !sortTab;\r\n  } else {\r\n    sortName = nameSort;\r\n    sortTab = true;\r\n  }\r\n\r\n  const tbodyN = document.getElementsByTagName('tbody')[0];\r\n  const tr = tbodyN.getElementsByTagName('tr');\r\n\r\n  const people = [...tr].sort((a, b) => {\r\n    let aTd;\r\n    let bTd;\r\n\r\n    if (sortTab === false) {\r\n      aTd = b.querySelectorAll('td');\r\n      bTd = a.querySelectorAll('td');\r\n    } else {\r\n      aTd = a.querySelectorAll('td');\r\n      bTd = b.querySelectorAll('td');\r\n    }\r\n\r\n    switch (nameSort) {\r\n      case 'Name':\r\n        return (aTd[0].textContent).localeCompare(\r\n          bTd[0].textContent);\r\n      case 'Position':\r\n        return (aTd[1].textContent).localeCompare(\r\n          bTd[1].textContent);\r\n      case 'Office':\r\n        return (aTd[2].textContent).localeCompare(\r\n          bTd[2].textContent);\r\n      case 'Age':\r\n        return (\r\n          aTd[3].textContent\r\n        - bTd[3].textContent);\r\n      case 'Salary':\r\n\r\n        return formatNumberFromCurrency(aTd[4])\r\n         - formatNumberFromCurrency(bTd[4]);\r\n    }\r\n  });\r\n\r\n  const tbodyNew = document.createElement('tbody');\r\n\r\n  tbodyNew.innerHTML = `\r\n    ${people.map(person => {\r\n    const personTd = person.querySelectorAll('td');\r\n\r\n    return `<tr>\r\n    <td>${personTd[0].innerText}</td>\r\n    <td>${personTd[1].innerText}</td>\r\n    <td>${personTd[2].innerText}</td>\r\n    <td>${personTd[3].innerText}</td>\r\n    <td>${personTd[4].innerText}</td>\r\n    </tr>\r\n    `;\r\n  }).join('')}\r\n    `;\r\n\r\n  tbodyN.replaceWith(tbodyNew);\r\n}\r\n\r\nthead.addEventListener('click', (e) => {\r\n  if (!e.target.tagName === 'TH') {\r\n    return;\r\n  } ;\r\n\r\n  const nameSort = e.target.textContent;\r\n\r\n  sort(nameSort);\r\n}\r\n);\r\n\r\nlet td;\r\nlet textarea;\r\n\r\nclass Activ {\r\n  constructor(textareaN) {\r\n    this.textarea = textareaN;\r\n  }\r\n\r\n  activ() {\r\n    textarea.focus();\r\n  }\r\n}\r\n\r\ndocument.addEventListener('dblclick', (e) => {\r\n  if (td) {\r\n    return;\r\n  }\r\n\r\n  td = e.target.closest('td');\r\n\r\n  if (!td) {\r\n    return;\r\n  }\r\n  textarea = document.createElement('textarea');\r\n  textarea.value = td.innerHTML;\r\n  textarea.classList.add('cell-input');\r\n  td.style.display = 'none';\r\n  td.after(textarea);\r\n\r\n  const activS = new Activ(textarea);\r\n\r\n  activS.activ();\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.key !== 'Enter') {\r\n    return;\r\n  }\r\n\r\n  if (textarea.value.length !== 0) {\r\n    td.innerHTML = textarea.value;\r\n  }\r\n  textarea.remove();\r\n  td.style.display = '';\r\n  td = '';\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.key !== 'Tab') {\r\n    return;\r\n  }\r\n\r\n  if (textarea.value.length !== 0) {\r\n    td.innerHTML = textarea.value;\r\n  }\r\n  textarea.remove();\r\n  td.style.display = '';\r\n  td = '';\r\n});\r\n"]}